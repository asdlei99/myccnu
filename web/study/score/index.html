<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	<link rel="stylesheet" type="text/css" href="../../lib/css/main.css">
	<link rel="stylesheet" type="text/css" href="../../lib/css/semantic.min.css">
	<script src="../../lib/js/jquery.min.js"></script>
	<script src="../../lib/js/semantic.min.js"></script>
	<script src="../../lib/js/handlebars-v1.3.0.js"></script>
	<script src="../../lib/js/main.js"></script>
	<title>期末成绩</title>
</head>
<body>

<!--显示所有成绩的容器-->
<div class="ui stackable three column page grid" id="Score_Con">

</div>

<!--page正在加载中-->
<div class="ui page dimmer" id="Page_Dimmer">
	<div class="content">
		<div class="center">
			<h2 class="ui inverted icon header">
				<i class="icon loading green"></i>
				正在玩命计算中....
			</h2>
		</div>
	</div>
</div>

<script>
	var GetMyScore_URL = makeApiUrl("score/get");
	$(document).ready(function () {
		if (getCookie('XH').length > 0) {
			$('#Page_Dimmer').dimmer('show');
			//加载基本信息
			$.getJSON(GetMyScore_URL).done(function (data) {
				$('#Score_Con').append(toHTML('Score_TEMP', data));
				$('#Page_Dimmer').dimmer('hide');
				if (data.length < 1) {
					showError();
				}
			});
		} else {
			shouldBind();
		}
	});
</script>

<!--模版-->
<div class="hidden">

	<script>
		//60分以上绿色,以下红色
		Handlebars.registerHelper('color', function (object) {
			if (object > 60) {
				return 'green';
			} else {
				return 'red';
			}
		});
	</script>

	<!--一条成绩-->
	<div id="Score_TEMP">
		{{#.}}
		<div class="column">
			<div class="ui stacked segment {{color sumScore}}">

				<div class="ui statistic">
					<div class="number">{{sumScore}}
					</div>
				</div>

				<div class="ui relaxed divided list">

					<div class="item">
						<i class="book icon circular inverted"></i>

						<div class="content">
							<a class="header">{{className}}</a>

							<div class="description">名称
							</div>
						</div>
					</div>

					<div class="item">
						<i class="screenshot icon circular inverted"></i>

						<div class="content">
							<a class="header">{{qimoScore}}</a>

							<div class="description">期末
							</div>
						</div>
					</div>
					<div class="item">
						<i class="tint icon circular inverted"></i>

						<div class="content">
							<a class="header">{{pinshiSocre}}</a>

							<div class="description">平时
							</div>
						</div>
					</div>
					<div class="item">
						<i class="star icon circular inverted"></i>

						<div class="content">
							<a class="header">{{xuefen}}</a>

							<div class="description">学分
							</div>
						</div>
					</div>
				</div>

			</div>
		</div>

		{{/.}}
	</div>

</div>


</body>
</html>